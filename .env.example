# Cluebase AI - Environment Variables
# Copy this file to .env and fill in your values

# ======================
# Server Configuration
# ======================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# App URLs (used for OAuth callbacks and CORS)
API_URL=http://localhost:3000
APP_URL=http://localhost:3001

# ======================
# Supabase
# ======================
# For cloud Supabase: Get from project settings
# For Coolify self-hosted: Get from Coolify Supabase service
SUPABASE_URL=https://supabase.cluebase.ai
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ======================
# Google Cloud / OAuth
# ======================
# Create OAuth 2.0 credentials at https://console.cloud.google.com
# Enable Google Drive API in your project
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/google-drive/callback

# ======================
# OpenAI (GPT-5-Turbo + Embeddings)
# ======================
# Get your API key at https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key

# ======================
# Slack (for local development)
# ======================
# For production, credentials are stored per-workspace in database
# These are only needed for local development/testing
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
SLACK_SIGNING_SECRET=your-signing-secret

# ======================
# Legacy Knowledge Sources (Optional)
# ======================
# These can also be configured per-bot via dashboard
GOOGLE_DRIVE_FOLDER_ID=your-drive-folder-id
COMPANY_WEBSITE_URL=https://example.com

# ======================
# Stripe Billing (Optional for local dev)
# ======================
# Get from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Create products/prices in Stripe Dashboard
STRIPE_STARTER_PRICE_ID=price_...
STRIPE_PRO_PRICE_ID=price_...
STRIPE_BUSINESS_PRICE_ID=price_...

# ======================
# Dashboard Environment
# ======================
# These go in apps/dashboard/.env.local
NEXT_PUBLIC_SUPABASE_URL=https://supabase.cluebase.ai
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
NEXT_PUBLIC_API_URL=https://api.cluebase.ai
NEXT_PUBLIC_APP_NAME=Cluebase AI
NEXT_PUBLIC_APP_URL=https://cluebase.ai

# Sentry Error Tracking (Dashboard)
# Same DSN works for both client and server, uses NEXT_PUBLIC_ prefix for client access
NEXT_PUBLIC_SENTRY_DSN=https://e385bffce476deb6d0eb67c1235b02db@o4510196542275584.ingest.us.sentry.io/4510607800729600

# Sentry Auth Token for source map uploads (used during build)
# Get from https://sentry.io/settings/account/api/auth-tokens/
SENTRY_AUTH_TOKEN=sntrys_your_auth_token

# ======================
# Coolify Deployment
# ======================
# Domain for Coolify (production)
DOMAIN=cluebase.ai

# ======================
# Self-Hosted Supabase (Coolify Template)
# ======================
# These are auto-generated by Coolify Supabase template
POSTGRES_PASSWORD=
JWT_SECRET=
SECRET_KEY_BASE=

# Supabase Studio Dashboard
DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=
STUDIO_DEFAULT_ORGANIZATION=Cluebase
STUDIO_DEFAULT_PROJECT=Cluebase AI

# ======================
# Email (SMTP for Auth)
# ======================
# Recommended: Resend (resend.com) - easy setup
# Alternative: SendGrid, Mailgun, AWS SES
SMTP_HOST=smtp.resend.com
SMTP_PORT=465
SMTP_USER=resend
SMTP_PASS=re_your_api_key
SMTP_ADMIN_EMAIL=admin@cluebase.ai
SMTP_SENDER_NAME=Cluebase AI
MAILER_AUTOCONFIRM=false

# ======================
# Scheduling
# ======================
# Cron expression for website scraping (default: 3am Sunday)
SCRAPE_SCHEDULE=0 3 * * 0

# Drive sync interval in milliseconds (default: 5 minutes)
DRIVE_POLL_INTERVAL_MS=300000

# ======================
# Worker Configuration (Optional)
# ======================
# For running API in worker mode (background jobs only)
WORKER_MODE=false

# Redis for rate limiting/caching (optional, uses in-memory by default)
REDIS_URL=redis://localhost:6379

# ======================
# Error Tracking & Monitoring
# ======================
# Sentry DSN for centralized error tracking (optional)
# Get from https://sentry.io - create a Node.js project
SENTRY_DSN=https://your-dsn@sentry.io/project-id

# App version for Sentry release tracking
APP_VERSION=1.0.0

# Slack webhook for critical error alerts (optional)
# Create at https://api.slack.com/messaging/webhooks
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXX/YYY/ZZZ
