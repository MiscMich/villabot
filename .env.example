# TeamBrain AI - Environment Variables
# Copy this file to .env and fill in your values

# ======================
# Server Configuration
# ======================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# App URLs (used for OAuth callbacks and CORS)
API_URL=http://localhost:3000
APP_URL=http://localhost:3001

# ======================
# Supabase
# ======================
# For cloud Supabase: Get from project settings
# For self-hosted: Use your self-hosted URLs
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ======================
# Google Cloud / OAuth
# ======================
# Create OAuth 2.0 credentials at https://console.cloud.google.com
# Enable Google Drive API in your project
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/google-drive/callback

# ======================
# Google Gemini AI
# ======================
# Get your API key at https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key

# ======================
# Slack (for local development)
# ======================
# For production, credentials are stored per-workspace in database
# These are only needed for local development/testing
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
SLACK_SIGNING_SECRET=your-signing-secret

# ======================
# Legacy Knowledge Sources (Optional)
# ======================
# These can also be configured per-bot via dashboard
GOOGLE_DRIVE_FOLDER_ID=your-drive-folder-id
COMPANY_WEBSITE_URL=https://example.com

# ======================
# Stripe Billing (Optional for local dev)
# ======================
# Get from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Create products/prices in Stripe Dashboard
STRIPE_STARTER_PRICE_ID=price_...
STRIPE_PRO_PRICE_ID=price_...
STRIPE_BUSINESS_PRICE_ID=price_...

# ======================
# Dashboard Environment
# ======================
# These go in apps/dashboard/.env.local
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=TeamBrain AI
NEXT_PUBLIC_APP_URL=http://localhost:3001

# ======================
# Docker Deployment
# ======================
# Port mappings for Docker Compose
API_PORT=3000
DASHBOARD_PORT=3001

# Domain for Traefik (production)
DOMAIN=teambrain.app
ACME_EMAIL=admin@teambrain.app

# Traefik dashboard auth (generate with: htpasswd -nb admin your-password)
TRAEFIK_AUTH=admin:$$apr1$$your-hashed-password

# ======================
# Self-Hosted Supabase (Optional)
# ======================
# Generate these with scripts/generate-keys.sh
POSTGRES_PASSWORD=
JWT_SECRET=
SECRET_KEY_BASE=

# ======================
# Scheduling
# ======================
# Cron expression for website scraping (default: 3am Sunday)
SCRAPE_SCHEDULE=0 3 * * 0

# Drive sync interval in milliseconds (default: 5 minutes)
DRIVE_POLL_INTERVAL_MS=300000
